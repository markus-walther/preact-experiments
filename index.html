<script type="module">
  // basic Preact API
  import { h, render } from 'https://unpkg.com/preact@latest?module';
  // Preact hooks
  import { useState } from 'https://unpkg.com/preact@latest/hooks/dist/hooks.module.js?module';
  // tagged string templates
  import htm from "https://unpkg.com/htm@latest/dist/htm.module.js?module";

  // initialize htm with Preact's h(yperhtml) function ~ React's createElement
  const html = htm.bind(h);

  // use *hooks* to have stateful functional components
  const DigitalClock = () => {
        const [time, setTime] = useState(new Date().toLocaleTimeString());
        DigitalClock.timer = setInterval( () => setTime(new Date().toLocaleTimeString()), 1000 );
        const [hours, minutes, seconds] = time.split(':');
        return html`<p><span>${hours}</span>:<span>${minutes}</span>:<span>${seconds}</span>.</p>`;
  };

  // *define* a pure functional component: props |-> virtual DOM:
  // we can have variable tag names, too!
  const MyComponent = ({name, heading = 'h1'}) => html`<${heading}>Hello ${name}!</${heading}><p>It is </p><${DigitalClock}/>`;

  const Styling = () => html`<style>
    p {
    float: left;
    padding-left: .2em;
    }
  </style>`;

  // *instantiate*
  const App = html`<${Styling}/><${MyComponent} name=${'world'} heading="h2"/>`;

  // render the app under <body>
  render(App, document.body);
</script>
